const firebaseConfig={apiKey:"AIzaSyAWjhrOA-GS6LPx8luMcE8KCbH7aYCr4oY",authDomain:"broadcast-1701e.firebaseapp.com",databaseURL:"https://broadcast-1701e-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"broadcast-1701e",storageBucket:"broadcast-1701e.appspot.com",messagingSenderId:"844755586030",appId:"1:844755586030:web:c41bc1585f41cf20549cff"};firebase.initializeApp(firebaseConfig);const database=firebase.database(),generateRandomString=()=>Math.random().toString(36).substring(2,15),form=document.querySelector(".form"),formSection=document.querySelector(".form-section"),inputName=document.querySelector('input[name="name"]'),inputEmail=document.querySelector('input[name="email"]'),id=getId();function getId(){let e;return null===localStorage.getItem("id")?(e=Math.random().toString(36).substring(2,15),formSection.style.display="block",document.body.classList.add("overflow")):(e=localStorage.getItem("id").replace(/"/g,""),document.body.classList.remove("overflow"),formSection.style.display="none",setTimeout(()=>{reEnter()},0)),e}function reEnter(){!function(e,t){let i=(new Date).toString();const n={};n["users/"+e+"//timeReEnterMs"]=t,n["users/"+e+"//timeReEnterDate"]=i,firebase.database().ref().update(n,e=>{e&&console.log(e)})}(id,Date.now())}function submitForm(e){e.preventDefault(),document.body.classList.remove("overflow");const t={id:id,timeStartMs:Date.now(),timeStartDate:(new Date).toString(),name:inputName.value,email:inputEmail.value};!function(e,t){const i={};i["users/"+t.id]=t,firebase.database().ref().update(i,t=>{t?console.log(t):(localStorage.setItem("id",JSON.stringify(e)),document.querySelector(".form-section").style.display="none")})}(t.id,t)}function updateTime(e,t){let i=(new Date).toString();const n={};return n["users/"+e+"//timeEndMs"]=t,n["users/"+e+"//timeEndDate"]=i,firebase.database().ref().update(n)}let hidden,visibilityChange;function handleVisibilityChange(){document[hidden]?updateTime(id,Date.now()):reEnter()}form.addEventListener("submit",e=>submitForm(e)),firebase.auth().signInAnonymously().then(()=>{console.log("signed in")}).catch(e=>{const t=e.code,i=e.message;console.log(t,i)}),window.addEventListener("unload",(function(){updateTime(id,Date.now())})),void 0!==document.hidden?(hidden="hidden",visibilityChange="visibilitychange"):void 0!==document.msHidden?(hidden="msHidden",visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(hidden="webkitHidden",visibilityChange="webkitvisibilitychange"),void 0===document.addEventListener||void 0===hidden?console.log("This demo requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API."):document.addEventListener(visibilityChange,handleVisibilityChange,!1);var mySwiper1=new Swiper(".swiper-container1",{loop:!1,slidesPerView:1,spaceBetween:10,centeredSlides:!0,slideToClickedSlide:!1,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".slider__pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0}}),mySwiper2=new Swiper(".swiper-container2",{loop:!1,slidesPerView:1,spaceBetween:10,centeredSlides:!0,slideToClickedSlide:!1,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".slider__pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0}}),mySwiper3=new Swiper(".swiper-container3",{loop:!1,slidesPerView:1,spaceBetween:10,centeredSlides:!0,slideToClickedSlide:!1,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".slider__pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0}}),mySwiper4=new Swiper(".swiper-container4",{loop:!1,slidesPerView:1,spaceBetween:10,centeredSlides:!0,slideToClickedSlide:!1,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".gallery-slider__next",prevEl:".gallery-slider__prev"},keyboard:{enabled:!0}}),initPhotoSwipeFromDOM=function(e){for(var t=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=function e(t,i){return t&&(i(t)?t:e(t.parentNode,i))}(e.target||e.srcElement,(function(e){return e.tagName&&"LI"===e.tagName.toUpperCase()}));if(t){for(var n,r=t.parentNode,o=t.parentNode.childNodes,a=o.length,l=0,d=0;d<a;d++)if(1===o[d].nodeType){if(o[d]===t){n=l;break}l++}return n>=0&&i(n,r),!1}},i=function(e,t,i,n){var r,o,a,l=document.querySelectorAll(".pswp1")[0];if(a=function(e){for(var t,i,n,r,o=e.childNodes,a=o.length,l=[],d=0;d<a;d++)1===(t=o[d]).nodeType&&(n=(i=t.children[0]).getAttribute("data-size").split("x"),r={src:i.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10)},t.children.length>1&&(r.title=t.children[1].innerHTML),i.children.length>0&&(r.msrc=i.children[0].getAttribute("src")),r.el=t,l.push(r));return l}(t),o={closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!1,counterEl:!1,arrowEl:!0,preloaderEl:!0,galleryUID:t.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=a[e].el.getElementsByTagName("img")[0],i=window.pageYOffset||document.documentElement.scrollTop,n=t.getBoundingClientRect();return{x:n.left,y:n.top+i,w:n.width}}},n)if(o.galleryPIDs){for(var d=0;d<a.length;d++)if(a[d].pid==e){o.index=d;break}}else o.index=parseInt(e,10)-1;else o.index=parseInt(e,10);isNaN(o.index)||(i&&(o.showAnimationDuration=0),(r=new PhotoSwipe(l,PhotoSwipeUI_Default,a,o)).init(),r.listen("unbindEvents",(function(){var e=r.getCurrentIndex();mySwiper1.slideTo(e,0,!1),mySwiper1.autoplay.start()})),r.listen("initialZoomIn",(function(){mySwiper1.autoplay.running&&mySwiper1.autoplay.stop()})))},n=document.querySelectorAll(e),r=0,o=n.length;r<o;r++)n[r].setAttribute("data-pswp-uid",r+1),n[r].onclick=t;var a=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var i=e.split("&"),n=0;n<i.length;n++)if(i[n]){var r=i[n].split("=");r.length<2||(t[r[0]]=r[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();a.pid&&a.gid&&i(a.pid,n[a.gid-1],!0,!0)};initPhotoSwipeFromDOM=function(e){for(var t=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=function e(t,i){return t&&(i(t)?t:e(t.parentNode,i))}(e.target||e.srcElement,(function(e){return e.tagName&&"LI"===e.tagName.toUpperCase()}));if(t){for(var n,r=t.parentNode,o=t.parentNode.childNodes,a=o.length,l=0,d=0;d<a;d++)if(1===o[d].nodeType){if(o[d]===t){n=l;break}l++}return n>=0&&i(n,r),!1}},i=function(e,t,i,n){var r,o,a,l=document.querySelectorAll(".pswp2")[0];if(a=function(e){for(var t,i,n,r,o=e.childNodes,a=o.length,l=[],d=0;d<a;d++)1===(t=o[d]).nodeType&&(n=(i=t.children[0]).getAttribute("data-size").split("x"),r={src:i.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10)},t.children.length>1&&(r.title=t.children[1].innerHTML),i.children.length>0&&(r.msrc=i.children[0].getAttribute("src")),r.el=t,l.push(r));return l}(t),o={closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!1,counterEl:!1,arrowEl:!0,preloaderEl:!0,galleryUID:t.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=a[e].el.getElementsByTagName("img")[0],i=window.pageYOffset||document.documentElement.scrollTop,n=t.getBoundingClientRect();return{x:n.left,y:n.top+i,w:n.width}}},n)if(o.galleryPIDs){for(var d=0;d<a.length;d++)if(a[d].pid==e){o.index=d;break}}else o.index=parseInt(e,10)-1;else o.index=parseInt(e,10);isNaN(o.index)||(i&&(o.showAnimationDuration=0),(r=new PhotoSwipe(l,PhotoSwipeUI_Default,a,o)).init(),r.listen("unbindEvents",(function(){var e=r.getCurrentIndex();mySwiper2.slideTo(e,0,!1),mySwiper2.autoplay.start()})),r.listen("initialZoomIn",(function(){mySwiper2.autoplay.running&&mySwiper2.autoplay.stop()})))},n=document.querySelectorAll(e),r=0,o=n.length;r<o;r++)n[r].setAttribute("data-pswp-uid",r+1),n[r].onclick=t;var a=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var i=e.split("&"),n=0;n<i.length;n++)if(i[n]){var r=i[n].split("=");r.length<2||(t[r[0]]=r[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();a.pid&&a.gid&&i(a.pid,n[a.gid-1],!0,!0)},initPhotoSwipeFromDOM=function(e){for(var t=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=function e(t,i){return t&&(i(t)?t:e(t.parentNode,i))}(e.target||e.srcElement,(function(e){return e.tagName&&"LI"===e.tagName.toUpperCase()}));if(t){for(var n,r=t.parentNode,o=t.parentNode.childNodes,a=o.length,l=0,d=0;d<a;d++)if(1===o[d].nodeType){if(o[d]===t){n=l;break}l++}return n>=0&&i(n,r),!1}},i=function(e,t,i,n){var r,o,a,l=document.querySelectorAll(".pswp3")[0];if(a=function(e){for(var t,i,n,r,o=e.childNodes,a=o.length,l=[],d=0;d<a;d++)1===(t=o[d]).nodeType&&(n=(i=t.children[0]).getAttribute("data-size").split("x"),r={src:i.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10)},t.children.length>1&&(r.title=t.children[1].innerHTML),i.children.length>0&&(r.msrc=i.children[0].getAttribute("src")),r.el=t,l.push(r));return l}(t),o={closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!1,counterEl:!1,arrowEl:!0,preloaderEl:!0,galleryUID:t.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=a[e].el.getElementsByTagName("img")[0],i=window.pageYOffset||document.documentElement.scrollTop,n=t.getBoundingClientRect();return{x:n.left,y:n.top+i,w:n.width}}},n)if(o.galleryPIDs){for(var d=0;d<a.length;d++)if(a[d].pid==e){o.index=d;break}}else o.index=parseInt(e,10)-1;else o.index=parseInt(e,10);isNaN(o.index)||(i&&(o.showAnimationDuration=0),(r=new PhotoSwipe(l,PhotoSwipeUI_Default,a,o)).init(),r.listen("unbindEvents",(function(){var e=r.getCurrentIndex();mySwiper3.slideTo(e,0,!1),mySwiper3.autoplay.start()})),r.listen("initialZoomIn",(function(){mySwiper3.autoplay.running&&mySwiper3.autoplay.stop()})))},n=document.querySelectorAll(e),r=0,o=n.length;r<o;r++)n[r].setAttribute("data-pswp-uid",r+1),n[r].onclick=t;var a=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var i=e.split("&"),n=0;n<i.length;n++)if(i[n]){var r=i[n].split("=");r.length<2||(t[r[0]]=r[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();a.pid&&a.gid&&i(a.pid,n[a.gid-1],!0,!0)};(initPhotoSwipeFromDOM=function(e){for(var t=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=function e(t,i){return t&&(i(t)?t:e(t.parentNode,i))}(e.target||e.srcElement,(function(e){return e.tagName&&"LI"===e.tagName.toUpperCase()}));if(t){for(var n,r=t.parentNode,o=t.parentNode.childNodes,a=o.length,l=0,d=0;d<a;d++)if(1===o[d].nodeType){if(o[d]===t){n=l;break}l++}return n>=0&&i(n,r),!1}},i=function(e,t,i,n){var r,o,a,l=document.querySelectorAll(".pswp4")[0];if(a=function(e){for(var t,i,n,r,o=e.childNodes,a=o.length,l=[],d=0;d<a;d++)1===(t=o[d]).nodeType&&(n=(i=t.children[0]).getAttribute("data-size").split("x"),r={src:i.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10)},t.children.length>1&&(r.title=t.children[1].innerHTML),i.children.length>0&&(r.msrc=i.children[0].getAttribute("src")),r.el=t,l.push(r));return l}(t),o={closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!1,counterEl:!1,arrowEl:!0,preloaderEl:!0,galleryUID:t.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=a[e].el.getElementsByTagName("img")[0],i=window.pageYOffset||document.documentElement.scrollTop,n=t.getBoundingClientRect();return{x:n.left,y:n.top+i,w:n.width}}},n)if(o.galleryPIDs){for(var d=0;d<a.length;d++)if(a[d].pid==e){o.index=d;break}}else o.index=parseInt(e,10)-1;else o.index=parseInt(e,10);isNaN(o.index)||(i&&(o.showAnimationDuration=0),(r=new PhotoSwipe(l,PhotoSwipeUI_Default,a,o)).init(),r.listen("unbindEvents",(function(){var e=r.getCurrentIndex();mySwiper4.slideTo(e,0,!1),mySwiper4.autoplay.start()})),r.listen("initialZoomIn",(function(){mySwiper4.autoplay.running&&mySwiper4.autoplay.stop()})))},n=document.querySelectorAll(e),r=0,o=n.length;r<o;r++)n[r].setAttribute("data-pswp-uid",r+1),n[r].onclick=t;var a=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var i=e.split("&"),n=0;n<i.length;n++)if(i[n]){var r=i[n].split("=");r.length<2||(t[r[0]]=r[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();a.pid&&a.gid&&i(a.pid,n[a.gid-1],!0,!0)})(".my-gallery1"),initPhotoSwipeFromDOM(".my-gallery2"),initPhotoSwipeFromDOM(".my-gallery3"),initPhotoSwipeFromDOM(".my-gallery4"),videojs("main_video",{controls:!0,autoplay:!1,preload:"metadata",poster:"../img/main-video-poster.jpg",plugins:{videoJsResolutionSwitcher:{default:"auto",dynamicLabel:!0}}},(function(){var e=this;e.updateSrc([{src:"../video/main-video.mp4",type:"video/mp4",label:"4K",res:"4K"},{src:"../video/main-video.mp4",type:"video/mp4",label:"FHD",res:"FHD"},{src:"../video/main-video.mp4",type:"video/mp4",label:"HD",res:"HD"}]),e.on("resolutionchange",(function(){e.play()}))})),videojs("left_video",{controls:!0,autoplay:!1,preload:"metadata",poster:"../img/left-video-poster.jpg",plugins:{videoJsResolutionSwitcher:{default:"auto",dynamicLabel:!0}}},(function(){var e=this;e.updateSrc([{src:"../video/left-video.mp4",type:"video/mp4",label:"4K",res:"4K"},{src:"../video/left-video.mp4",type:"video/mp4",label:"FHD",res:"FHD"},{src:"../video/left-video.mp4",type:"video/mp4",label:"HD",res:"HD"}]),e.on("resolutionchange",(function(){e.play()}))})),videojs("right_video",{controls:!0,autoplay:!1,preload:"metadata",poster:"../img/right-video-poster.jpg",plugins:{videoJsResolutionSwitcher:{default:"auto",dynamicLabel:!0}}},(function(){var e=this;e.updateSrc([{src:"../video/right-video.m4v",type:"video/mp4",label:"4K",res:"4K"},{src:"../video/right-video.m4v",type:"video/mp4",label:"FHD",res:"FHD"},{src:"../video/right-video.m4v",type:"video/mp4",label:"HD",res:"HD"}]),e.on("resolutionchange",(function(){e.play()}))}));var medias=Array.prototype.slice.apply(document.querySelectorAll("audio,video"));medias.forEach((function(e){e.addEventListener("play",(function(e){medias.forEach((function(t){e.target!=t&&t.pause()}))}))}));